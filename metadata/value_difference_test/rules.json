[
  {
    "id": "system_a_tos_rule",
    "system": "system_a",
    "metric": "tos",
    "target_entity": "customer",
    "target_grain": ["customer_id"],
    "labels": ["tos", "outstanding", "system_a"],
    "computation": {
      "description": "TOS (Total Outstanding) for System A: Direct value from customer_tos_a table",
      "source_entities": ["customer"],
      "attributes_needed": {
        "customer": ["customer_id", "tos"]
      },
      "formula": "Total outstanding amount for each customer",
      "aggregation_grain": ["customer_id"],
      "filter_conditions": {},
      "note": "System A stores TOS directly at customer level"
    }
  },
  {
    "id": "system_b_tos_rule",
    "system": "system_b",
    "metric": "tos",
    "target_entity": "customer",
    "target_grain": ["customer_id"],
    "labels": ["tos", "outstanding", "system_b"],
    "computation": {
      "description": "TOS (Total Outstanding) for System B: Direct value from customer_tos_b table",
      "source_entities": ["customer"],
      "attributes_needed": {
        "customer": ["customer_id", "tos"]
      },
      "formula": "Total outstanding amount for each customer",
      "aggregation_grain": ["customer_id"],
      "filter_conditions": {},
      "note": "System B stores TOS directly at customer level"
    }
  }
]

