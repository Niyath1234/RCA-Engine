{
  "tables": [
    {
      "name": "loan_summary",
      "system": "system_a",
      "entity": "loan",
      "primary_key": ["loan_id"],
      "time_column": "disbursement_date",
      "path": "multi_grain_test/system_a/loan_summary.parquet",
      "grain": ["loan_id"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "principal_amount", "type": "float"},
        {"name": "interest_rate", "type": "float"},
        {"name": "loan_status", "type": "string"},
        {"name": "disbursement_date", "type": "date"}
      ]
    },
    {
      "name": "customer_loan_mapping",
      "system": "system_a",
      "entity": "loan",
      "primary_key": ["loan_id", "customer_id"],
      "time_column": "mapping_date",
      "path": "multi_grain_test/system_a/customer_loan_mapping.parquet",
      "grain": ["loan_id", "customer_id"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "customer_id", "type": "string"},
        {"name": "mapping_date", "type": "date"}
      ]
    },
    {
      "name": "daily_interest_accruals",
      "system": "system_a",
      "entity": "interest_accrual",
      "primary_key": ["loan_id", "accrual_date"],
      "time_column": "accrual_date",
      "path": "multi_grain_test/system_a/daily_interest_accruals.parquet",
      "grain": ["loan_id", "accrual_date"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "accrual_date", "type": "date"},
        {"name": "accrued_interest", "type": "float"}
      ]
    },
    {
      "name": "daily_fees",
      "system": "system_a",
      "entity": "fee",
      "primary_key": ["loan_id", "fee_date"],
      "time_column": "fee_date",
      "path": "multi_grain_test/system_a/daily_fees.parquet",
      "grain": ["loan_id", "fee_date"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "fee_date", "type": "date"},
        {"name": "fee_amount", "type": "float"}
      ]
    },
    {
      "name": "daily_penalties",
      "system": "system_a",
      "entity": "penalty",
      "primary_key": ["loan_id", "penalty_date"],
      "time_column": "penalty_date",
      "path": "multi_grain_test/system_a/daily_penalties.parquet",
      "grain": ["loan_id", "penalty_date"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "penalty_date", "type": "date"},
        {"name": "penalty_amount", "type": "float"}
      ]
    },
    {
      "name": "emi_schedule",
      "system": "system_a",
      "entity": "emi",
      "primary_key": ["loan_id", "emi_number"],
      "time_column": "due_date",
      "path": "multi_grain_test/system_a/emi_schedule.parquet",
      "grain": ["loan_id", "emi_number"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "emi_number", "type": "integer"},
        {"name": "emi_amount", "type": "float"},
        {"name": "due_date", "type": "date"}
      ]
    },
    {
      "name": "emi_transactions",
      "system": "system_a",
      "entity": "transaction",
      "primary_key": ["loan_id", "emi_number", "transaction_date"],
      "time_column": "transaction_date",
      "path": "multi_grain_test/system_a/emi_transactions.parquet",
      "grain": ["loan_id", "emi_number", "transaction_date"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "emi_number", "type": "integer"},
        {"name": "transaction_date", "type": "date"},
        {"name": "transaction_amount", "type": "float"},
        {"name": "transaction_type", "type": "string"}
      ]
    },
    {
      "name": "detailed_transactions",
      "system": "system_a",
      "entity": "transaction",
      "primary_key": ["loan_id", "transaction_date", "transaction_type"],
      "time_column": "transaction_date",
      "path": "multi_grain_test/system_a/detailed_transactions.parquet",
      "grain": ["loan_id", "transaction_date", "transaction_type"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "transaction_date", "type": "date"},
        {"name": "transaction_type", "type": "string"},
        {"name": "transaction_amount", "type": "float"}
      ]
    },
    {
      "name": "fee_details",
      "system": "system_a",
      "entity": "fee",
      "primary_key": ["loan_id", "fee_date", "fee_type"],
      "time_column": "fee_date",
      "path": "multi_grain_test/system_a/fee_details.parquet",
      "grain": ["loan_id", "fee_date", "fee_type"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "fee_date", "type": "date"},
        {"name": "fee_type", "type": "string"},
        {"name": "fee_amount", "type": "float"}
      ]
    },
    {
      "name": "customer_summary",
      "system": "system_a",
      "entity": "customer",
      "primary_key": ["customer_id"],
      "time_column": "as_of_date",
      "path": "multi_grain_test/system_a/customer_summary.parquet",
      "grain": ["customer_id"],
      "columns": [
        {"name": "customer_id", "type": "string"},
        {"name": "total_loans", "type": "integer"},
        {"name": "total_outstanding", "type": "float"},
        {"name": "as_of_date", "type": "date"}
      ]
    },
    {
      "name": "loan_summary",
      "system": "system_b",
      "entity": "loan",
      "primary_key": ["loan_id"],
      "time_column": "as_of_date",
      "path": "multi_grain_test/system_b/loan_summary.parquet",
      "grain": ["loan_id"],
      "columns": [
        {"name": "loan_id", "type": "string"},
        {"name": "total_outstanding", "type": "float"},
        {"name": "as_of_date", "type": "date"}
      ]
    }
  ]
}

